{"ast":null,"code":"import _regeneratorRuntime from\"/home/kushal/tip-saza/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/kushal/tip-saza/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{checkTokenExp}from\"../../utils/checkTokenExp\";import{deleteAPI,getAPI}from\"../../utils/FetchDatas\";import{ALERT}from\"../types/alertType\";import{DELETE_USER,GET_USERS}from\"../types/usersType\";export var getUsers=function getUsers(token){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var result,access_token,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return checkTokenExp(token,dispatch);case 2:result=_context.sent;access_token=result?result:token;_context.prev=4;dispatch({type:ALERT,payload:{loading:true}});_context.next=8;return getAPI('users',access_token);case 8:res=_context.sent;dispatch({type:GET_USERS,payload:res.data});dispatch({type:ALERT,payload:{loading:false}});_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](4);dispatch({type:ALERT,payload:{errors:_context.t0.response.data.msg}});case 16:case\"end\":return _context.stop();}}},_callee,null,[[4,13]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var deleteUser=function deleteUser(id,token){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var result,access_token;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return checkTokenExp(token,dispatch);case 2:result=_context2.sent;access_token=result?result:token;_context2.prev=4;dispatch({type:DELETE_USER,payload:id});_context2.next=8;return deleteAPI(\"delete_user/\".concat(id),access_token);case 8:_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](4);dispatch({type:ALERT,payload:{errors:_context2.t0.response.data.msg}});case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[4,10]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};","map":{"version":3,"sources":["/home/kushal/tip-saza/client/src/redux/actions/usersActions.ts"],"names":["checkTokenExp","deleteAPI","getAPI","ALERT","DELETE_USER","GET_USERS","getUsers","token","dispatch","result","access_token","type","payload","loading","res","data","errors","response","msg","deleteUser","id"],"mappings":"2NACA,OAASA,aAAT,KAA8B,2BAA9B,CACA,OAASC,SAAT,CAAoBC,MAApB,KAAkC,wBAAlC,CACA,OAASC,KAAT,KAAkC,oBAAlC,CACA,OAASC,WAAT,CAAsBC,SAAtB,KAAkD,oBAAlD,CAIA,MAAO,IAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,KAAD,iGAAkB,iBAAOC,QAAP,oKACjBR,CAAAA,aAAa,CAACO,KAAD,CAAOC,QAAP,CADI,QAChCC,MADgC,eAEhCC,YAFgC,CAEjBD,MAAM,CAAGA,MAAH,CAAYF,KAFD,iBAIlCC,QAAQ,CAAC,CAACG,IAAI,CAAER,KAAP,CAAcS,OAAO,CAAC,CAACC,OAAO,CAAC,IAAT,CAAtB,CAAD,CAAR,CAJkC,sBAMhBX,CAAAA,MAAM,CAAC,OAAD,CAASQ,YAAT,CANU,QAM5BI,GAN4B,eAQlCN,QAAQ,CAAC,CACLG,IAAI,CAAEN,SADD,CAELO,OAAO,CAAEE,GAAG,CAACC,IAFR,CAAD,CAAR,CAKAP,QAAQ,CAAC,CAACG,IAAI,CAACR,KAAN,CAAaS,OAAO,CAAC,CAACC,OAAO,CAAC,KAAT,CAArB,CAAD,CAAR,CAbkC,iFAelCL,QAAQ,CAAC,CAACG,IAAI,CAAER,KAAP,CAAcS,OAAO,CAAE,CAACI,MAAM,CAAE,YAAIC,QAAJ,CAAaF,IAAb,CAAkBG,GAA3B,CAAvB,CAAD,CAAR,CAfkC,qEAAlB,gEAAjB,CAmBP,MAAO,IAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,EAAD,CAAWb,KAAX,kGAA4B,kBAAOC,QAAP,qKAC7BR,CAAAA,aAAa,CAACO,KAAD,CAAOC,QAAP,CADgB,QAC5CC,MAD4C,gBAE5CC,YAF4C,CAE7BD,MAAM,CAAGA,MAAH,CAAYF,KAFW,kBAI9CC,QAAQ,CAAC,CAACG,IAAI,CAACP,WAAN,CAAkBQ,OAAO,CAACQ,EAA1B,CAAD,CAAR,CAJ8C,uBAKxCnB,CAAAA,SAAS,uBAAgBmB,EAAhB,EAAqBV,YAArB,CAL+B,6FAQ9CF,QAAQ,CAAC,CAACG,IAAI,CAAER,KAAP,CAAcS,OAAO,CAAE,CAACI,MAAM,CAAE,aAAIC,QAAJ,CAAaF,IAAb,CAAkBG,GAA3B,CAAvB,CAAD,CAAR,CAR8C,uEAA5B,kEAAnB","sourcesContent":["import { Dispatch } from \"redux\"\nimport { checkTokenExp } from \"../../utils/checkTokenExp\"\nimport { deleteAPI, getAPI } from \"../../utils/FetchDatas\"\nimport { ALERT, IAlertType } from \"../types/alertType\"\nimport { DELETE_USER, GET_USERS,IUsersType } from \"../types/usersType\"\n\n\n\nexport const getUsers = (token:string) => async (dispatch: Dispatch<IAlertType | IUsersType>) => {\n    const result = await checkTokenExp(token,dispatch)\n    const access_token = result ? result : token\n    try {\n        dispatch({type: ALERT, payload:{loading:true}})\n\n        const res = await getAPI('users',access_token)\n\n        dispatch({\n            type: GET_USERS,\n            payload: res.data\n        })\n        \n        dispatch({type:ALERT, payload:{loading:false}})\n    } catch (err:any) {\n        dispatch({type: ALERT, payload: {errors: err.response.data.msg}})\n    }\n}\n\nexport const deleteUser = (id:string,token:string) => async (dispatch: Dispatch<IAlertType | IUsersType>) => {\n    const result = await checkTokenExp(token,dispatch)\n    const access_token = result ? result : token\n    try {\n        dispatch({type:DELETE_USER,payload:id})\n        await deleteAPI(`delete_user/${id}`,access_token)\n\n    } catch (err:any) {\n        dispatch({type: ALERT, payload: {errors: err.response.data.msg}})\n    }\n}"]},"metadata":{},"sourceType":"module"}