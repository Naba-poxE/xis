{"ast":null,"code":"import{useSelector,useDispatch}from'react-redux';import{Link,useLocation}from'react-router-dom';import{logout}from'../../redux/actions/authActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Menu=function Menu(){var _auth$user;var _useSelector=useSelector(function(state){return state;}),auth=_useSelector.auth,categories=_useSelector.categories;var _useLocation=useLocation(),pathname=_useLocation.pathname;var dispatch=useDispatch();var isActive=function isActive(pn){if(pn===pathname)return'activated';};var handleLogout=function handleLogout(){if(!auth.user||!auth.access_token)return;dispatch(logout(auth.access_token));};return/*#__PURE__*/ (// <ul className=\"navbar-nav mt-0 ms-lg-4\">\n_jsxs(\"ul\",{className:\"navbar-nav mb-2 mb-lg-0 navbar-brand\",children:[categories.map(function(label){return/*#__PURE__*/_jsx(\"li\",{className:\"nav-item \".concat(isActive(\"/blogs/\".concat(label.name)),\" mx-2\"),children:/*#__PURE__*/_jsx(Link,{className:\"nav-link m-2 p-0 text-capitalize text-dark\",to:\"/blogs/\".concat(label.name),children:label.name})},label._id);}),auth.user&&/*#__PURE__*/_jsxs(\"li\",{className:\"nav-item dropdown\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"nav-link dropdown-toggle\",id:\"navbarDropdown\",role:\"button\",\"data-bs-toggle\":\"dropdown\",\"aria-expanded\":\"false\",children:/*#__PURE__*/_jsx(\"img\",{src:auth.user.avatar,alt:\"avatar\",className:\"avatar\"})}),/*#__PURE__*/_jsxs(\"ul\",{className:\"dropdown-menu dropdown-menu-end\",\"aria-labelledby\":\"navbarDropdown\",children:[auth.user.role!=='user'&&/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(Link,{className:\"dropdown-item\",to:\"/create_blog\",children:\"CreateBlog\"}),/*#__PURE__*/_jsx(\"hr\",{className:\"dropdown-divider\"})]}),((_auth$user=auth.user)===null||_auth$user===void 0?void 0:_auth$user.role)===\"admin\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(Link,{className:\"dropdown-item\",to:\"/jury_members_register\",children:\"Register Writer\"}),/*#__PURE__*/_jsx(\"hr\",{className:\"dropdown-divider\"})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(Link,{className:\"dropdown-item\",to:\"/category\",children:\"Category\"}),/*#__PURE__*/_jsx(\"hr\",{className:\"dropdown-divider\"})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(Link,{className:\"dropdown-item\",to:\"/users\",children:\"Writers\"}),/*#__PURE__*/_jsx(\"hr\",{className:\"dropdown-divider\"})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(Link,{className:\"dropdown-item\",to:\"/subscription\",children:\"Subscribers\"}),/*#__PURE__*/_jsx(\"hr\",{className:\"dropdown-divider\"})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(Link,{className:\"dropdown-item\",to:'/views',children:\"Blogs\"}),/*#__PURE__*/_jsx(\"hr\",{className:\"dropdown-divider\"})]})]}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{className:\"dropdown-item\",to:\"/profile/\".concat(auth.user._id),children:\"Profile\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"hr\",{className:\"dropdown-divider\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{className:\"dropdown-item\",to:\"/\",onClick:handleLogout,children:\"Logout\"})})]})]})]}));};export default Menu;","map":{"version":3,"sources":["/home/kushal/tip-saza/client/src/components/global/Menu.tsx"],"names":["useSelector","useDispatch","Link","useLocation","logout","Menu","state","auth","categories","pathname","dispatch","isActive","pn","handleLogout","user","access_token","map","label","name","_id","avatar","role"],"mappings":"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","sourcesContent":["import { useSelector,useDispatch } from 'react-redux'\nimport { Link,useLocation } from 'react-router-dom'\nimport { RootStore } from '../../utils/TypeScript'\nimport { logout } from '../../redux/actions/authActions'\n\n\nconst Menu = () => {\n  const { auth,categories } = useSelector((state: RootStore) => state)\n\n  const { pathname } = useLocation()\n\n  const dispatch = useDispatch()\n\n  const isActive = (pn: string) => {\n    if(pn === pathname) return 'activated'\n    \n  }\n\n  const handleLogout = () => {\n    if(!auth.user || !auth.access_token) return;\n    dispatch(logout(auth.access_token))\n  }\n\n  return (\n      // <ul className=\"navbar-nav mt-0 ms-lg-4\">\n      <ul className='navbar-nav mb-2 mb-lg-0 navbar-brand'>\n        {\n          categories.map(label => (\n            <li key={label._id} className={`nav-item ${isActive(`/blogs/${label.name}`)} mx-2`}>\n              <Link className=\"nav-link m-2 p-0 text-capitalize text-dark\" to={`/blogs/${label.name}`}>{label.name}</Link>\n            </li>\n          ))\n        }\n    \n        {\n          auth.user && \n          <li className=\"nav-item dropdown\">\n            <span className=\"nav-link dropdown-toggle\" id=\"navbarDropdown\" role=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n              <img src={auth.user.avatar} alt=\"avatar\" className=\"avatar\" />\n            </span>\n\n            <ul className=\"dropdown-menu dropdown-menu-end\" aria-labelledby=\"navbarDropdown\">\n              { \n                auth.user.role !== 'user' &&\n                  <li>\n                    <Link className=\"dropdown-item\" to={`/create_blog`}>CreateBlog</Link>\n                    <hr className=\"dropdown-divider\" />\n                  </li>\n              }\n\n              {\n                auth.user?.role === \"admin\" &&\n                <>\n                  <li>\n                    <Link className=\"dropdown-item\" to=\"/jury_members_register\">Register Writer</Link>\n                    <hr className=\"dropdown-divider\" />\n                  </li>\n                  <li>\n                    <Link className=\"dropdown-item\" to=\"/category\">Category</Link>\n                    <hr className=\"dropdown-divider\" />\n                  </li>\n                  <li>\n                    <Link className='dropdown-item' to={`/users`}>\n                      Writers\n                    </Link>\n                    <hr className=\"dropdown-divider\" />\n                  </li>\n                  <li>\n                    <Link className=\"dropdown-item\" to=\"/subscription\">Subscribers</Link>\n                    <hr className=\"dropdown-divider\" />\n                  </li>\n                  <li>\n                    <Link className='dropdown-item' to={'/views'}>\n                      Blogs\n                    </Link>\n                    <hr className=\"dropdown-divider\" />\n                  </li>\n                </>\n              }\n              \n              <li>\n                <Link className=\"dropdown-item\" to={`/profile/${auth.user._id}`}>\n                  Profile\n                </Link>\n              </li>\n              <li><hr className=\"dropdown-divider\" /></li>\n              <li>\n                <Link className=\"dropdown-item\" to=\"/\" onClick={handleLogout} >\n                  Logout\n                </Link>\n              </li>\n            </ul>\n          </li>\n        }\n      </ul>\n\n \n  )\n}\n\nexport default Menu;\n"]},"metadata":{},"sourceType":"module"}